webpackJsonp([0],{1075:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{key:"Loader"}))}return i(t,e),s(t,[{key:"preload",value:function(){this.load.image("startScreen","assets/startscreen.png"),this.load.image("deathScreen","assets/deathscreen.png"),this.load.image("startBtn","assets/startBtn.png"),this.load.image("grass","assets/land_grass11.png"),this.load.image("car1","assets/car_black_small_5.png"),this.load.image("car2","assets/car_red_small_5.png"),this.load.image("man1","assets/character_black_blue.png"),this.load.image("man2","assets/character_black_red.png"),this.load.image("cone1","assets/cone_straight.png"),this.load.image("cone2","assets/cone_down.png"),this.load.image("tire1","assets/tires_red_alt.png"),this.load.image("tire2","assets/tires_red.png"),this.load.image("tire3","assets/tires_white_alt.png"),this.load.image("tire4","assets/tires_white.png"),this.load.image("box","assets/box-item-boxed.png"),this.load.image("blood","assets/blood.png")}},{key:"create",value:function(){this.scene.start("Menu")}}]),t}(Phaser.Scene);t.Loader=a},1076:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(e){function t(e,n,i,s,a){o(this,t);var c=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i,s.out));return c.scene=e,c.setInteractive().on("pointerdown",function(){return a()}),c}return i(t,e),t}(Phaser.GameObjects.Sprite),c=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{key:"Menu"}))}return i(t,e),s(t,[{key:"create",value:function(){var e=this;this.add.image(600,350,"startScreen"),this.add.existing(new a(this,600,520,{out:"startBtn"},function(){e.scene.start("Game")}))}}]),t}(Phaser.Scene);t.Menu=c},1077:function(e,t,n){"use strict";function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(){function e(t,n,o){i(this,e),this.ANGLE_DELTA=.1,this.SPEED=.1,this.scene=t;var r=Phaser.Math.RND.pick(["car1","car2"]);this.body=this.scene.matter.add.image(n,o,r),this.body.setFrictionAir(.15).setMass(30).setScale(.9).setFixedRotation().setAngularVelocity(0).setVelocity(0,0),this.body.body.label="car"}return s(e,[{key:"rotate",value:function(e){this.body.setAngularVelocity(e)}},{key:"rotateClockwise",value:function(){this.rotate(this.ANGLE_DELTA)}},{key:"rotateCounterclockwise",value:function(){this.rotate(-this.ANGLE_DELTA)}},{key:"goForward",value:function(){this.body.thrust(this.SPEED)}},{key:"goBackward",value:function(){this.body.thrust(-this.SPEED)}}]),e}(),c=function e(t,n,o){i(this,e),this.scene=t;var r=Phaser.Math.RND.pick(["tire1","tire2","tire3","tire4"]);this.body=this.scene.matter.add.image(n,o,r),this.body.body.label="tire",this.body.setBounce(.3).setMass(20).setScale(.5,.5).setBody({type:"circle",radius:14})},h=function(){function e(t,n,o){i(this,e),this.SPEED=.003,this.ANGLE_DELTA=.1,this.TURN_PAUSE=Phaser.Math.Between(1e3,3e3),this.time=0,this.scene=t,this.isDead=!1;var r=Phaser.Math.RND.pick(["man1","man2"]);this.body=this.scene.matter.add.image(n,o,r),this.body.body.label="man",this.body.body.man=this,this.body.setBounce(1).setMass(Phaser.Math.Between(7,15)).setFrictionAir(.1).setScale(.5,.5).setAngle(Phaser.Math.Between(0,360))}return s(e,[{key:"update",value:function(e){if(this.body.thrust(this.SPEED),this.time+=e,this.time>this.TURN_PAUSE){this.time=0;var t=Phaser.Math.Between(0,100);this.isDead||(t>70?this.body.setAngle(Phaser.Math.Between(0,360)):t>40&&this.body.setAngle(Phaser.Math.Between(0,360)))}}},{key:"dead",value:function(){this.body.setTexture("blood"),this.body.setStatic(!0),this.isDead=!0,this.body.enable=!1,this.body.setCollisionCategory(0)}}]),e}(),u=function(){function e(t,n,o){i(this,e),this.UP="cone1",this.DOWN="cone2",this.isUp=!0,this.scene=t,this.body=this.scene.matter.add.image(n,o,this.UP),this.body.body.label="cone",this.body.body.cone=this,this.body.setScale(.5)}return s(e,[{key:"up",value:function(){this.isUp=!0,this.body.setTexture("cone1")}},{key:"down",value:function(){this.isUp=!1,this.body.setTexture("cone2")}}]),e}(),l=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{key:"Game"}));return e}return r(t,e),s(t,[{key:"create",value:function(){this.monTimer=this.time.addEvent({delay:100,callback:this.compteUneSeconde,callbackScope:this,loop:!0}),this.chrono=0,this.setBounds(),this.createTexture(),this.createTires(),this.createMen(),this.createCones(),this.createCollisions(),this.createWall(),this.createCar(),this.chronoText=this.add.text(50,16,"Chrono: 0",{fontSize:"24px",fill:"#FFFFFF"}),this.chronoText.setScrollFactor(0),this.createInput()}},{key:"compteUneSeconde",value:function(){this.chrono=this.chrono+1,this.chronoText.setText("Chrono: "+this.chrono)}},{key:"setBounds",value:function(){this.matter.world.setBounds(0,0,1200,700)}},{key:"createWall",value:function(){this.matter.add.image(100,100,"box",null,{isStatic:!0}),this.matter.add.image(200,200,"box",null,{isStatic:!0}),this.matter.add.image(300,300,"box",null,{isStatic:!0})}},{key:"createTexture",value:function(){this.add.tileSprite(600,350,1200,700,"grass")}},{key:"createCar",value:function(){this.car=new a(this,600,350)}},{key:"createRandomObjects",value:function(e,t,n){for(var o=Phaser.Math.Between(t,n),r=[],i=0;i<o;i++){var s=Phaser.Math.Between(30,1170),a=Phaser.Math.Between(30,670);r.push(new e(this,s,a))}return r}},{key:"createTires",value:function(){this.tires=this.createRandomObjects(c,1,10)}},{key:"createMen",value:function(){this.men=this.createRandomObjects(h,10,10)}},{key:"createCones",value:function(){this.cones=this.createRandomObjects(u,1,10)}},{key:"createCollisions",value:function(){var e=this;this.matter.world.on("collisionstart",function(t){t.pairs.forEach(function(e){var t=e.bodyA,n=e.bodyB;"car"===t.label&&"cone"===n.label?n.cone.down():"cone"===t.label&&"car"===n.label?t.cone.down():"man"===t.label&&"cone"===n.label?n.cone.up():"cone"===t.label&&"man"===n.label?t.cone.up():"car"===t.label&&"man"===n.label?n.man.dead():"man"===t.label&&"car"===n.label&&t.man.dead()}),10===e.men.filter(function(e){return e.isDead}).length&&e.scene.start("GameOver",{chrono:e.chrono})})}},{key:"createInput",value:function(){this.cursors=this.input.keyboard.createCursorKeys(),this.counterclockwise=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.Q),this.clockwise=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D),this.forward=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.Z),this.backward=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.S),[this.cursors.up,this.cursors.down,this.cursors.left,this.cursors.right,this.counterclockwise,this.clockwise,this.forward,this.backward].forEach(function(e){e.reset()})}},{key:"update",value:function(e,t){this.clockwise.isDown||this.cursors.right.isDown?this.car.rotateClockwise():(this.counterclockwise.isDown||this.cursors.left.isDown)&&this.car.rotateCounterclockwise(),this.forward.isDown||this.cursors.up.isDown?this.car.goForward():(this.backward.isDown||this.cursors.down.isDown)&&this.car.goBackward(),this.men.forEach(function(e){e.update(t)})}}]),t}(Phaser.Scene);t.Game=l},1078:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{key:"GameOver"}));return e}return i(t,e),s(t,[{key:"init",value:function(e){this.chrono=e.chrono}},{key:"create",value:function(){var e=this;this.add.image(600,350,"deathScreen"),this.add.sprite(600,520,"startBtn").setInteractive().on("pointerdown",function(){e.scene.start("Game")}),this.chronoText=this.add.text(200,200,"Chrono: "+this.chrono,{fontSize:"24px",fill:"#FFFFFF"}),this.chronoText.setScrollFactor(0)}}]),t}(Phaser.Scene);t.GameOver=a},434:function(e,t,n){"use strict";n(210);var o=n(1075),r=n(1076),i=n(1077),s=n(1078),a={type:Phaser.AUTO,parent:"game",width:1200,height:700,backgroundColor:"#838796",physics:{default:"matter",matter:{debug:!1,gravity:{x:0,y:0}}},scene:[o.Loader,r.Menu,i.Game,s.GameOver]};new Phaser.Game(a)}},[434]);